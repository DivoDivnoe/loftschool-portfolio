!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=r(n(1)),i=r(n(2)),c=r(n(3)),l=r(n(4)),u=r(n(5)),a=r(n(6)),s=r(n(7)),d=r(n(8));document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".main-nav__menu"),t=document.querySelector(".welcome__user-box"),n=document.querySelector(".parallax"),r=document.querySelector(".hero"),f=document.querySelector(".blog__content"),v=document.querySelector("#form"),m=document.querySelector("#review-form"),_=document.querySelector(".preloader"),y=document.querySelector(".hero__arrow"),g=document.querySelector(".reviews__arrow"),h=document.querySelector(".slider");e&&(0,o.default)(e),t&&(0,i.default)(t),n&&c.default.mouseMove(n),r&&c.default.scroll(r),f&&(0,l.default)(f),v&&u.default.login(v),m&&u.default.contact(m),_&&(0,a.default)(_),y&&(0,s.default)(y),g&&(0,s.default)(g),h&&(0,d.default)(h)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.querySelector(".main-nav__list"),n=document.querySelector(".toggle"),r=function r(o){if("width"!==o.propertyName)return!1;t.style.visibility="visible",n.onclick=i,e.removeEventListener("transitionend",r)},o=function(){n.classList.add("toggle--close"),e.classList.add("main-nav__menu--opened"),n.onclick=null,e.addEventListener("transitionend",r)},i=function(){t.style.visibility="hidden",n.classList.remove("toggle--close"),e.classList.remove("main-nav__menu--opened"),n.onclick=o};n.onclick=o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=document.querySelector(".welcome-header__auth"),n=e.querySelector(".welcome__user"),r=e.querySelector(".welcome__form"),o=r.querySelector(".form__menu-item"),i=Math.max(n.offsetHeight,r.offsetHeight);e.style.height=i+"px";var c=function n(r){r.preventDefault(),e.classList.add("welcome__user-box--rotated"),t.classList.add("welcome-header__auth--hidden"),t.removeEventListener("click",n),o.addEventListener("click",l)},l=function n(r){r.preventDefault(),e.classList.remove("welcome__user-box--rotated"),t.classList.remove("welcome-header__auth--hidden"),o.removeEventListener("click",n),t.addEventListener("click",c)};t.addEventListener("click",c),o.addEventListener("click",l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={scroll:function(e){var t=e.querySelector(".hero__bg"),n=e.querySelector(".hero__box"),r=function(e,t,n){var r=-t*n+"px";e.style.transform="translateY("+r+")"};window.addEventListener("scroll",function(e){!function(e){r(t,e,.1),r(n,e,.3)}(window.pageYOffset)})},mouseMove:function(e){var t=e.children,n=function(e){var n=window.innerWidth/2-e.pageX,r=window.innerHeight/2-e.pageY,o=0,i=!0,c=!1,l=void 0;try{for(var u,a=t[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var s=u.value,d=o/80,f={x:n*d,y:r*d},v=window.innerHeight/2*d,m=s.firstElementChild;"IMG"===m.tagName.toUpperCase()&&(s.style.transform="translate("+f.x+"px, "+f.y+"px)",m.style.bottom="-"+v+"px"),o++}}catch(e){c=!0,l=e}finally{try{!i&&a.return&&a.return()}finally{if(c)throw l}}};window.innerWidth>=768&&window.addEventListener("mousemove",n)}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.querySelector(".blog__menu"),n=t.querySelectorAll(".blog__menu-link"),o=t.querySelector(".blog__menu-button"),i=e.querySelectorAll(".blog__item"),c=function n(){if(e.getBoundingClientRect().top>0)return!1;t.classList.contains("blog__menu--fixed")||(t.classList.add("blog__menu--fixed"),document.removeEventListener("scroll",n),document.addEventListener("scroll",l))},l=function n(){if(e.getBoundingClientRect().top<0)return!1;t.classList.contains("blog__menu--fixed")&&(t.classList.remove("blog__menu--fixed"),document.removeEventListener("scroll",n),document.addEventListener("scroll",c))},u=function(e){var t=[].concat(r(n)).find(function(e){return e.classList.contains("blog__menu-link--active")});t&&t.classList.remove("blog__menu-link--active"),e.target.classList.add("blog__menu-link--active")};[].concat(r(n)).forEach(function(e){e.addEventListener("click",u)}),document.addEventListener("scroll",c),document.addEventListener("scroll",function(){var e=function(){var e=document.body.clientHeight;return[].concat(r(i)).findIndex(function(t){var n=t.getBoundingClientRect();return n.top<.6*e&&n.top>-t.offsetWidth})}(),t=[].concat(r(n)).find(function(e){return e.classList.contains("blog__menu-link--active")});if(t&&t.classList.remove("blog__menu-link--active"),e<0)return!1;n[e].classList.add("blog__menu-link--active")}),o.addEventListener("click",function(){t.classList.toggle("blog__menu--closed")})}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return new Promise(function(t,n){var r=e.find(function(e){return""===e.value});r?n(r):t()}).then(t,function(e){return n(e)})},i=function(e){var t=e.parentElement,n=t.className+"--error";t.classList.add(n),e.addEventListener("focus",function(){t.classList.remove(n)})},c=function(e,t){var n=function(e){var t={};return e.forEach(function(e){var n=e.type,r=e.name;if(!r||("checkbox"==n||"radio"==n)&&!e.checked)return!1;t[r]=e.value}),t}(e);!function(e,t,n,r){new Promise(function(e,t){var o=new XMLHttpRequest;o.responseType="json",o.timeout=1e4,o.open("POST",r),o.setRequestHeader("Content-type","application/json"),o.addEventListener("load",function(){200===o.status?e(o.response):t("Ошибка: "+o.status+" "+o.statusText)}),o.addEventListener("error",function(){t("Ошибка соединения")}),o.addEventListener("timeout",function(){t("Время запроса превысило "+o.timeout+" мс")}),n?o.send(n):o.send()}).then(function(t){return e(t)}).catch(function(e){return t(e)})}(function(e){return console.log(e)},function(e){return console.log(e)},JSON.stringify(JSON.stringify(n)),t)};t.default={login:function(e){var t=e.elements,n=(e.action,e.querySelectorAll(".form__field"));e.querySelector(".form__capture");e.addEventListener("submit",function(e){e.preventDefault(),o([].concat(r(n)),function(){return c([].concat(r(t)))},i)})},contact:function(e){var t=e.elements,n=e.action,l=e.querySelectorAll(".contact-form__field"),u=e.querySelector(".contact-form__message");e.addEventListener("submit",function(e){e.preventDefault(),o([].concat(r(l),[u]),function(){return c([].concat(r(t)),n)},i)})}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=document.querySelectorAll("img"),n=document.querySelectorAll("video source"),o=e.querySelector(".preloader__percents"),i=0,c=function(e){return e.map(function(e){return e.src})},l=function(e,t){var n=c([].concat(r(t)));return{img:c([].concat(r(e))).concat([].concat(r(document.querySelectorAll("*"))).reduce(function(e,t){var n=getComputedStyle(t).backgroundImage;return"none"!==n&&e.push(n.replace('url("',"").replace('")',"")),e},[])),video:n}}(t,n),u=100/(l.video.length+l.img.length),a=function(e,t,n,r){var o=document.createElement(e);return o.src=t,new Promise(function(e,t){o.addEventListener(n,e),o.addEventListener("error",e),setTimeout(e,1e4)})},s=function(){i+=u,o.textContent=Math.floor(i)+"%"},d=l.img.map(function(e){return a("img",e,"load").then(s)}),f=l.video.map(function(e){return a("video",e,"loadeddata").then(s)});Promise.all(d.concat(f)).then(function(){e.classList.add("preloader--closed"),e.addEventListener("transitionend",function(){e.style.display="none"})}),e.classList.remove("preloader--nojs")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=document.querySelector(".hero").offsetHeight;e.addEventListener("click",function(){window.scrollTo(0,t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=t.length}return r(e,[{key:"nextSlide",value:function(){return this.curSlide=this.curSlide===this.length-1?0:this.curSlide+1,this.slideHandler(this),this.curElement}},{key:"prevSlide",value:function(){return this.curSlide=this.curSlide?this.curSlide-1:this.length-1,this.slideHandler(this),this.curSlide}},{key:"slideHandler",value:function(e){return e}},{key:"curSlide",get:function(){return this._curSlide||(this.curSlide=0),this._curSlide},set:function(e){this._curSlide=e}}]),e}();t.default=function(e){var t=e.querySelector(".slider__list"),n=t.children,r=document.querySelector(".portfolio__toggles-item--previous"),i=r.querySelector(".portfolio__toggles-list--previous").children,c=document.querySelector(".portfolio__toggles-item--next"),l=c.querySelector(".portfolio__toggles-list--next").children,u=new o({length:n.length}),a=new o({length:n.length}),s=new o({length:n.length}),d=function(e,t,n){var r=!0,o=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;u.classList.contains(n)&&u.classList.remove(n)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}t[e.curSlide].classList.add(n)};u.slideHandler=function(){d(this,n,"slider__item--active")},a.slideHandler=function(){d(this,i,"portfolio__toggles-picture--active")},s.slideHandler=function(){d(this,l,"portfolio__toggles-picture--active")};var f=function(e){c.removeEventListener("click",v),r.removeEventListener("click",m),t.addEventListener("transitionend",function(){c.addEventListener("click",v),r.addEventListener("click",m)}),e()},v=function(){f(function(){u.nextSlide(),s.nextSlide(),a.nextSlide()})},m=function(){f(function(){u.prevSlide(),s.prevSlide(),a.prevSlide()})};c.addEventListener("click",v),r.addEventListener("click",m),a.prevSlide(),s.nextSlide(),n[u.curSlide].classList.add("slider__item--active"),i[a.curSlide].classList.add("portfolio__toggles-picture--active"),l[s.curSlide].classList.add("portfolio__toggles-picture--active")}}]);
//# sourceMappingURL=main.min.js.map